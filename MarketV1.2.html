<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market V1.2</title>
</head>
<body>
    <!-- 
        Step0. Tentukan data apa saja yg akan disimpan
        Step1. Menerima input qty dari user
        Step2. Hitung total belanja dari masing-masing item/product
        Step3. Hitung grand total
        Step4. Menerima input total yg dibayarkan oleh user
        Step5. Confirm transaksi (dibatalkan/success)
     -->
    <script>
        // Step0.
        let product1 = 'Semangka'
        let product2 = 'Jeruk'
        let product3 = 'Anggur'

        let hargaProduct1 = 10000
        let hargaProduct2 = 15000
        let hargaProduct3 = 20000

        let stockProduct1 = 10
        let stockProduct2 = 15
        let stockProduct3 = 20

        // Step1. 
        let qtyProduct1 = prompt(`Masukan Quantity ${product1}. Stock ${product1} = ${stockProduct1}`)
        if(qtyProduct1 > stockProduct1){
            alert('Qty Melebihi Stock! Qty Diubah Menjadi Stock yg Tersedia')
            qtyProduct1 = stockProduct1
        }

        let qtyProduct2 = prompt(`Masukan Quantity ${product2}. Stock ${product2} = ${stockProduct2}`)
        if(qtyProduct2 > stockProduct2){
            alert('Qty Melebihi Stock! Qty Diubah Menjadi Stock yg Tersedia')
            qtyProduct2 = stockProduct2
        }

        let qtyProduct3 = prompt(`Masukan Quantity ${product3}. Stock ${product3} = ${stockProduct3}`)
        if(qtyProduct3 > stockProduct3){
            alert('Qty Melebihi Stock! Qty Diubah Menjadi Stock yg Tersedia')
            qtyProduct3 = stockProduct3
        }

        // Step2.
        let totalProduct1 = qtyProduct1 * hargaProduct1
        let totalProduct2 = qtyProduct2 * hargaProduct2
        let totalProduct3 = qtyProduct3 * hargaProduct3

        // Step3. 
        let grandTotal = totalProduct1 + totalProduct2 + totalProduct3

        // Step4.
        let totalBayar = prompt(`
            DAFTAR BELANJA \n
            ${product1} : ${qtyProduct1} x ${hargaProduct1} = ${totalProduct1} \n
            ${product2} : ${qtyProduct2} x ${hargaProduct2} = ${totalProduct2} \n
            ${product3} : ${qtyProduct3} x ${hargaProduct3} = ${totalProduct3} \n
            TOTAL BELANJA = ${grandTotal}
        `)

        // Step5.   
        if(totalBayar < grandTotal){
            alert('Transaksi Dibatalkan!')
        }else{
            alert(`
                Transaksi Success! Uang Kembalian ${totalBayar - grandTotal}
            `)
        }
    </script> 
</body>
</html>